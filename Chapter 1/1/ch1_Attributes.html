<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WebGL Beginner's Guide - Setting up WebGL context</title>
  <style>
    canvas {
      border: 2px dotted blue;
    }
  </style>
  <script>
    let gl = null;
    let c_width = 0;
    let c_height = 0;
    window.onkeydown = checkKey;
    function checkKey(ev) {
      switch (ev.keyCode) {
        case 49: { //1
          gl.clearColor(0.3, 0.7, 0.2, 1.0);
          clear(gl);
          break;
        }
        case 50: { //2
          gl.clearColor(0.3, 0.2, 0.7, 1.0);
          clear(gl);
          break;
        }
        case 51: { //3
          const color = gl.getParameter(gl.COLOR_CLEAR_VALUE);
          alert('clearColor = (' +
            Math.round(color[0] * 10) /10 + ',' +
            Math.round(color[1] * 10) /10 + ',' +
            Math.round(color[2] * 10) / 10 + ')');
          window.focus();
          break;
        }
      }
    }
    function getGLContext() {
      const canvas = document.getElementById('canvas-element-id');
      if(canvas === null) {
        alert('there is no canvas on this page ');
        return;
      }
      const ctx = canvas.getContext('webgl');
      if(!ctx) {
        alert('WebGL is not available');
      } else {
        return ctx;
      }
    }
    function clear(ctx) {
      ctx.clear(ctx.COLOR_BUFFER_BIT);
      ctx.viewport(0, 0, c_width, c_height);
    }
    function initWebGL() {
      gl = getGLContext();
    }
  </script>
</head>
<body onload="initWebGL()">
<canvas id="canvas-element-id" width="800" height="600">Your browser doesn't appear support the HTML5 <code>&lt;canvas&gt;</code> element.</canvas>
</body>
</html>
